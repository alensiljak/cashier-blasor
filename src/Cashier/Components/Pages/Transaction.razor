@page "/tx"

@inject ISnackbar Snackbar
@inject NavigationManager NavMan
@inject AppState State
@inject NotificationService Notification

@using MudBlazor

<ToolbarMud>
    <Title>Journal Entry</Title>
    <ContextMenuItems>
        <MudListItem Icon="@IconsMud.Save" @onclick="OnSaveClicked">Save</MudListItem>
        <MudListItem Icon="@IconsMud.XCircle" @onclick="OnResetClick">Reset</MudListItem>
    </ContextMenuItems>

</ToolbarMud>

@* FAB *@
<MudFab Color="Color.Tertiary" IconColor="Color.Secondary" StartIcon="@IconsMud.Check"
        Style="@Constants.DefaultFabPosition" @onclick="OnFab" />

<XactEditor />

@code {
    protected override void OnInitialized()
    {
        base.OnInitialized();

        if(State.Xact == null)
        {
            NavMan.NavigateTo("/");
        }
    }

    void OnFab()
    {
        // save
        OnSaveClicked();
    }

    void OnResetClick()
    {
        State.CloseMenu();
    }

    void OnSaveClicked()
    {
        State.CloseMenu();

        Notification.Warning("not implemented");
    }
}
